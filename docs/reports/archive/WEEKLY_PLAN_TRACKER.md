# VoiceHelper 周计划跟踪器

> **更新频率**: 每周五下班前更新
> **负责人**: Tech Lead / Scrum Master
> **查看详情**: [ITERATION_ROADMAP.md](ITERATION_ROADMAP.md)

---

## 📊 总体进度

| 迭代阶段      | 周数   | 状态      | 完成度  | 备注                |
| ------------- | ------ | --------- | ------- | ------------------- |
| **Week 1-2**  | 2      | ✅ 完成   | 100%    | 基础架构 + 索引检索 |
| **Week 3-4**  | 2      | 🚧 进行中 | 0%      | P0 阻塞项           |
| **Week 5-6**  | 2      | ⏳ 未开始 | 0%      | P0 模型路由         |
| **Week 7-8**  | 2      | ⏳ 未开始 | 0%      | P1 重要功能         |
| **Week 9-10** | 2      | ⏳ 未开始 | 0%      | P1 测试与分析       |
| **总计**      | **10** | -         | **20%** | -                   |

---

## 📅 Week 3: P0 阻塞项 - 第 1 周 (Day 1-5)

**本周目标**: Knowledge Service + RAG Engine 完整实现

### Backend Engineer 1

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注                   |
| --------------------- | ---- | --------- | ---- | ---- | ---------------------- |
| **T1.1 MinIO 集成**   | 2 天 | ⏳ 未开始 | -    | -    | Upload/Download/Delete |
| **T1.2 文档上传流程** | 3 天 | ⏳ 未开始 | -    | -    | 完整端到端流程         |

**本周交付**:

- [ ] MinIO 客户端可用
- [ ] 文档上传完整流程测试通过
- [ ] 发布 `document.uploaded` 事件到 Kafka

### Backend Engineer 2

| 任务                    | 预计 | 状态      | 实际 | 阻碍 | 备注                 |
| ----------------------- | ---- | --------- | ---- | ---- | -------------------- |
| **ClamAV 病毒扫描集成** | 1 天 | ⏳ 未开始 | -    | -    | TCP 集成             |
| **协助文档上传测试**    | 1 天 | ⏳ 未开始 | -    | -    | 端到端测试           |
| **准备 Week 4 任务**    | 3 天 | ⏳ 未开始 | -    | -    | 熟悉 AI Orchestrator |

**本周交付**:

- [ ] ClamAV 病毒扫描可用
- [ ] 文档上传集成测试通过

### AI Engineer 1

| 任务                | 预计 | 状态      | 实际 | 阻碍 | 备注               |
| ------------------- | ---- | --------- | ---- | ---- | ------------------ |
| **T2.1 查询改写**   | 1 天 | ⏳ 未开始 | -    | -    | HyDE + Multi-Query |
| **T2.2 上下文构建** | 1 天 | ⏳ 未开始 | -    | -    | 组装 + 截断        |
| **T2.3 答案生成**   | 2 天 | ⏳ 未开始 | -    | -    | 流式 + 非流式      |
| **T2.4 引用来源**   | 1 天 | ⏳ 未开始 | -    | -    | 自动匹配引用       |

**本周交付**:

- [ ] RAG Engine 完全可用
- [ ] 问答延迟 <3s
- [ ] 引用来源准确

### AI Engineer 2

| 任务                 | 预计 | 状态      | 实际 | 阻碍 | 备注           |
| -------------------- | ---- | --------- | ---- | ---- | -------------- |
| **协助 RAG Engine**  | 2 天 | ⏳ 未开始 | -    | -    | 测试和优化     |
| **准备 Week 4 任务** | 3 天 | ⏳ 未开始 | -    | -    | 学习 LangGraph |

**本周交付**:

- [ ] RAG Engine 单元测试通过
- [ ] LangGraph 学习完成

### 团队协作

**每日站会** (10:00 AM):

- [ ] 周一: 任务分配与技术方案讨论
- [ ] 周二: 进度同步，识别阻碍
- [ ] 周三: 中期检查，必要时调整
- [ ] 周四: 准备演示材料
- [ ] 周五: 周回顾与下周规划

**周五演示** (5:00 PM):

- [ ] Demo: 文档上传 → 索引 → RAG 问答
- [ ] 指标: 上传成功率、索引速度、问答延迟
- [ ] 下周预告: AI Orchestrator + Agent Engine

---

## 📅 Week 4: P0 阻塞项 - 第 2 周 (Day 6-10)

**本周目标**: AI Orchestrator + Agent Engine 核心实现

### Backend Engineer 1

| 任务                | 预计 | 状态      | 实际 | 阻碍 | 备注            |
| ------------------- | ---- | --------- | ---- | ---- | --------------- |
| **T1.3 任务路由器** | 2 天 | ⏳ 未开始 | -    | -    | 路由到各引擎    |
| **T1.4 流程编排器** | 2 天 | ⏳ 未开始 | -    | -    | 串行/并行/条件  |
| **T1.5 gRPC 服务**  | 1 天 | ⏳ 未开始 | -    | -    | ExecuteTask API |

**本周交付**:

- [ ] AI Orchestrator gRPC 服务可用
- [ ] 任务可路由到 Agent/RAG/Voice Engine
- [ ] 工作流编排正常

### Backend Engineer 2

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注       |
| --------------------- | ---- | --------- | ---- | ---- | ---------- |
| **协助 Orchestrator** | 2 天 | ⏳ 未开始 | -    | -    | 测试与优化 |
| **集成测试**          | 2 天 | ⏳ 未开始 | -    | -    | 端到端测试 |
| **文档更新**          | 1 天 | ⏳ 未开始 | -    | -    | API 文档   |

**本周交付**:

- [ ] Orchestrator 集成测试通过
- [ ] API 文档完整

### AI Engineer 1

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注       |
| --------------------- | ---- | --------- | ---- | ---- | ---------- |
| **RAG Engine 完善**   | 2 天 | ⏳ 未开始 | -    | -    | 优化与测试 |
| **协助 Agent Engine** | 3 天 | ⏳ 未开始 | -    | -    | 工具系统   |

**本周交付**:

- [ ] RAG Engine 性能优化
- [ ] Agent 工具调用可用

### AI Engineer 2

| 任务                      | 预计 | 状态      | 实际 | 阻碍 | 备注                       |
| ------------------------- | ---- | --------- | ---- | ---- | -------------------------- |
| **T2.5 LangGraph 工作流** | 3 天 | ⏳ 未开始 | -    | -    | Planner-Executor-Reflector |
| **T2.6 工具注册表**       | 1 天 | ⏳ 未开始 | -    | -    | 基础工具                   |
| **T2.7 工具调用系统**     | 1 天 | ⏳ 未开始 | -    | -    | 安全控制                   |

**本周交付**:

- [ ] Agent Engine ReAct 模式可用
- [ ] 基础工具可调用
- [ ] 安全白名单生效

### Milestone 1 验收 (Week 4 结束)

**Demo 场景**:

```
1. 用户上传 PDF 文档 ✅
2. 等待索引完成 (5-10秒) ✅
3. 提问: "文档主要内容?" ✅
4. 返回 RAG 答案 + 引用 ✅
5. Agent 任务: "搜索相关资料" ✅
6. 返回搜索结果 ✅
```

**验收标准**:

- [ ] 文档上传成功率 100%
- [ ] 索引速度 <10s
- [ ] RAG 问答延迟 <3s
- [ ] Agent 任务执行成功率 >95%

---

## 📅 Week 5: P0 模型路由 - 第 1 周 (Day 11-15)

**本周目标**: Model Router + Model Adapter 实现

### Backend Engineer 1

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注             |
| --------------------- | ---- | --------- | ---- | ---- | ---------------- |
| **T3.1 路由决策引擎** | 2 天 | ⏳ 未开始 | -    | -    | 成本/延迟/可用性 |
| **T3.2 成本优化器**   | 1 天 | ⏳ 未开始 | -    | -    | Token 计费       |
| **T3.3 降级管理器**   | 1 天 | ⏳ 未开始 | -    | -    | 降级链           |
| **T3.4 gRPC 服务**    | 1 天 | ⏳ 未开始 | -    | -    | RouteModel API   |

**本周交付**:

- [ ] Model Router gRPC 服务可用
- [ ] 路由策略正确
- [ ] 成本追踪正常

### Backend Engineer 2

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注             |
| --------------------- | ---- | --------- | ---- | ---- | ---------------- |
| **协助 Model Router** | 2 天 | ⏳ 未开始 | -    | -    | 测试与优化       |
| **准备 Week 6 任务**  | 3 天 | ⏳ 未开始 | -    | -    | 熟悉 APISIX 配置 |

**本周交付**:

- [ ] Model Router 测试完整
- [ ] APISIX 配置方案设计

### AI Engineer 1

| 任务                   | 预计 | 状态      | 实际 | 阻碍 | 备注          |
| ---------------------- | ---- | --------- | ---- | ---- | ------------- |
| **T4.1 OpenAI 适配器** | 1 天 | ⏳ 未开始 | -    | -    | GPT-4/3.5     |
| **T4.2 Claude 适配器** | 1 天 | ⏳ 未开始 | -    | -    | Claude 3      |
| **T4.3 Zhipu 适配器**  | 1 天 | ⏳ 未开始 | -    | -    | GLM-4         |
| **T4.4 协议转换器**    | 1 天 | ⏳ 未开始 | -    | -    | 统一格式      |
| **T4.5 gRPC 服务**     | 1 天 | ⏳ 未开始 | -    | -    | CallModel API |

**本周交付**:

- [ ] Model Adapter 支持 3+ LLM
- [ ] 协议转换正确
- [ ] gRPC 服务可用

### AI Engineer 2

| 任务                   | 预计 | 状态      | 实际 | 阻碍 | 备注           |
| ---------------------- | ---- | --------- | ---- | ---- | -------------- |
| **协助 Model Adapter** | 2 天 | ⏳ 未开始 | -    | -    | 测试各厂商 API |
| **准备 Week 6 任务**   | 3 天 | ⏳ 未开始 | -    | -    | 熟悉 Whisper   |

**本周交付**:

- [ ] Model Adapter 测试完整
- [ ] Whisper 本地部署测试

---

## 📅 Week 6: P0 模型路由 - 第 2 周 (Day 16-20)

**本周目标**: Gateway 完善 + Voice Engine 核心

### Backend Engineer 1

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注              |
| --------------------- | ---- | --------- | ---- | ---- | ----------------- |
| **T3.5 完整路由配置** | 2 天 | ⏳ 未开始 | -    | -    | 14 个服务路由     |
| **T3.6 JWT 认证插件** | 1 天 | ⏳ 未开始 | -    | -    | Vault 集成        |
| **T3.7 限流插件**     | 1 天 | ⏳ 未开始 | -    | -    | 多级限流          |
| **T3.8 监控配置**     | 1 天 | ⏳ 未开始 | -    | -    | Prometheus + OTel |

**本周交付**:

- [ ] APISIX 路由完整
- [ ] JWT 认证生效
- [ ] 限流正常工作
- [ ] 监控指标正常

### Backend Engineer 2

| 任务                  | 预计 | 状态      | 实际 | 阻碍 | 备注       |
| --------------------- | ---- | --------- | ---- | ---- | ---------- |
| **协助 Gateway 测试** | 3 天 | ⏳ 未开始 | -    | -    | 压测与优化 |
| **集成测试**          | 2 天 | ⏳ 未开始 | -    | -    | 端到端测试 |

**本周交付**:

- [ ] Gateway 压测通过
- [ ] 集成测试完整

### AI Engineer 1

| 任务                   | 预计 | 状态      | 实际 | 阻碍 | 备注         |
| ---------------------- | ---- | --------- | ---- | ---- | ------------ |
| **Model Adapter 完善** | 2 天 | ⏳ 未开始 | -    | -    | 错误处理优化 |
| **协助 Voice Engine**  | 3 天 | ⏳ 未开始 | -    | -    | 测试与集成   |

**本周交付**:

- [ ] Model Adapter 生产就绪
- [ ] Voice Engine 测试完整

### AI Engineer 2

| 任务                 | 预计 | 状态      | 实际 | 阻碍 | 备注         |
| -------------------- | ---- | --------- | ---- | ---- | ------------ |
| **T4.6 Whisper ASR** | 2 天 | ⏳ 未开始 | -    | -    | 文件 + 流式  |
| **T4.7 Silero VAD**  | 1 天 | ⏳ 未开始 | -    | -    | 语音检测     |
| **T4.8 Edge TTS**    | 2 天 | ⏳ 未开始 | -    | -    | 中文语音合成 |

**本周交付**:

- [ ] Voice Engine ASR 可用
- [ ] Voice Engine TTS 可用
- [ ] VAD 检测准确

### Milestone 2 验收 (Week 6 结束)

**压测指标**:

- [ ] 500 并发用户
- [ ] P95 延迟 < 300ms
- [ ] 错误率 < 0.1%

**功能验收**:

- [ ] Model Router 智能路由
- [ ] 支持 3+ LLM 提供商
- [ ] 成本追踪准确
- [ ] 降级策略生效
- [ ] Gateway 认证限流正常

---

## 📅 Week 7-8: P1 重要功能 (规划中)

**本周目标**: Identity/Conversation 完善 + Notification/Multimodal

详细任务将在 Week 6 结束前规划。

---

## 📅 Week 9-10: P1 测试与分析 (规划中)

**本周目标**: Analytics Service + 测试覆盖 >70%

详细任务将在 Week 8 结束前规划。

---

## 📊 进度追踪指标

### 代码统计

| 指标           | Week 1-2 | Week 3 | Week 4 | Week 5 | Week 6 | 累计   |
| -------------- | -------- | ------ | ------ | ------ | ------ | ------ |
| **新增代码行** | 11,600   | -      | -      | -      | -      | 11,600 |
| **新增文件数** | 42       | -      | -      | -      | -      | 42     |
| **测试覆盖率** | -        | -      | -      | -      | -      | 0%     |

### 功能完成度

| 服务                | Week 1-2 | Week 3 | Week 4 | Week 5 | Week 6 | 目标 |
| ------------------- | -------- | ------ | ------ | ------ | ------ | ---- |
| **Gateway**         | 40%      | -      | -      | -      | 100%   | 100% |
| **Identity**        | 80%      | -      | -      | -      | -      | 100% |
| **Conversation**    | 75%      | -      | -      | -      | -      | 100% |
| **Knowledge**       | 30%      | 100%   | -      | -      | -      | 100% |
| **Indexing**        | 100%     | -      | -      | -      | -      | 100% |
| **Retrieval**       | 100%     | -      | -      | -      | -      | 100% |
| **RAG Engine**      | 5%       | 100%   | -      | -      | -      | 100% |
| **Agent Engine**    | 15%      | -      | 100%   | -      | -      | 100% |
| **Model Router**    | 10%      | -      | -      | 100%   | -      | 100% |
| **Model Adapter**   | 10%      | -      | -      | 100%   | -      | 100% |
| **Voice Engine**    | 10%      | -      | -      | -      | 100%   | 100% |
| **AI Orchestrator** | 5%       | -      | 100%   | -      | -      | 100% |

### 风险与阻碍

| 周     | 风险 | 影响 | 状态 | 缓解措施 |
| ------ | ---- | ---- | ---- | -------- |
| Week 3 | -    | -    | -    | -        |
| Week 4 | -    | -    | -    | -        |
| Week 5 | -    | -    | -    | -        |
| Week 6 | -    | -    | -    | -        |

---

## 🎯 每周验收清单

### Week 3 验收

**功能验收**:

- [ ] 文档可上传
- [ ] 病毒扫描生效
- [ ] Kafka 事件发布
- [ ] RAG 问答可用
- [ ] 引用来源准确

**性能验收**:

- [ ] 文档上传成功率 100%
- [ ] 索引速度 <10s/文档
- [ ] RAG 延迟 <3s

**文档验收**:

- [ ] API 文档更新
- [ ] Runbook 更新
- [ ] 代码注释完整

---

## 📝 更新记录

| 日期       | 更新人       | 更新内容     |
| ---------- | ------------ | ------------ |
| 2025-10-26 | AI Assistant | 创建初始版本 |
| -          | -            | -            |

---

**下一次更新**: Week 3 周五 (Day 5)
