# VoiceAssistant Web Frontend

> **å®æ—¶ AI å¯¹è¯ç•Œé¢** - React 18 + Next.js 14 + TypeScript + TailwindCSS

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—®: `http://localhost:3000`

### 3. ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œ

```bash
# Agent Engine (WebSocket æœåŠ¡)
cd ../../algo/agent-engine
python main.py  # è¿è¡Œåœ¨ localhost:8003
```

---

## ğŸ“¦ æŠ€æœ¯æ ˆ

| æŠ€æœ¯           | ç‰ˆæœ¬    | ç”¨é€”          |
| -------------- | ------- | ------------- |
| React          | 18.2.0  | UI æ¡†æ¶       |
| Next.js        | 14.0.4  | React æ¡†æ¶    |
| TypeScript     | 5.3.3   | ç±»å‹å®‰å…¨      |
| TailwindCSS    | 3.4.0   | æ ·å¼æ¡†æ¶      |
| Zustand        | 4.4.7   | çŠ¶æ€ç®¡ç†      |
| React Markdown | 9.0.1   | Markdown æ¸²æŸ“ |
| Lucide React   | 0.303.0 | å›¾æ ‡åº“        |

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
platforms/web/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx            # é¦–é¡µï¼ˆé‡å®šå‘åˆ° /chatï¼‰
â”‚   â”œâ”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ chat/
â”‚       â””â”€â”€ page.tsx        # èŠå¤©ç•Œé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ MessageItem.tsx     # æ¶ˆæ¯é¡¹ç»„ä»¶
â”‚   â”œâ”€â”€ MessageList.tsx     # æ¶ˆæ¯åˆ—è¡¨
â”‚   â””â”€â”€ InputBox.tsx        # è¾“å…¥æ¡†
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ useWebSocket.ts     # WebSocket Hook
â”œâ”€â”€ store/
â”‚   â””â”€â”€ chatStore.ts        # Zustand çŠ¶æ€ç®¡ç†
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ next.config.js
```

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å®æ—¶ WebSocket é€šä¿¡

- âœ… è‡ªåŠ¨è¿æ¥/é‡è¿
- âœ… å¿ƒè·³ä¿æ´»ï¼ˆ30s é—´éš”ï¼‰
- âœ… æŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥
- âœ… è¿æ¥çŠ¶æ€å®æ—¶æ˜¾ç¤º

### 2. æµå¼æ¶ˆæ¯æ˜¾ç¤º

- âœ… å®æ—¶é€å­—æ˜¾ç¤º
- âœ… Markdown æ¸²æŸ“
- âœ… ä»£ç é«˜äº®
- âœ… æ‰“å­—æœºæ•ˆæœ

### 3. èŠå¤©åŠŸèƒ½

- âœ… å‘é€æ¶ˆæ¯
- âœ… æ¸…ç©ºå¯¹è¯
- âœ… å¯¼å‡ºå¯¹è¯ï¼ˆJSONï¼‰
- âœ… æ¶ˆæ¯å†å²æ»šåŠ¨
- âœ… å¿«æ·é”®æ”¯æŒï¼ˆEnter å‘é€ï¼ŒShift+Enter æ¢è¡Œï¼‰

### 4. ç”¨æˆ·ä½“éªŒ

- âœ… å“åº”å¼è®¾è®¡ï¼ˆMobile + Desktopï¼‰
- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ… é”™è¯¯æç¤º
- âœ… ç©ºçŠ¶æ€å¼•å¯¼
- âœ… å­—ç¬¦è®¡æ•°

---

## ğŸ¨ ç•Œé¢æˆªå›¾

### èŠå¤©ç•Œé¢

- ç°ä»£åŒ–è®¾è®¡
- æµç•…çš„æµå¼æ˜¾ç¤º
- Markdown + ä»£ç é«˜äº®
- å®æ—¶è¿æ¥çŠ¶æ€

### ç©ºçŠ¶æ€

- å¼•å¯¼æç¤º
- å¿«æ·åŠŸèƒ½å¡ç‰‡
- å‹å¥½çš„ç”¨æˆ·ç•Œé¢

---

## ğŸ”§ é…ç½®

### WebSocket URL

é»˜è®¤: `ws://localhost:8003/ws/agent`

ä¿®æ”¹: `app/chat/page.tsx`

```typescript
const [wsUrl] = useState('ws://localhost:8003/ws/agent');
```

### æ ·å¼å®šåˆ¶

TailwindCSS é…ç½®: `tailwind.config.ts`

```typescript
theme: {
  extend: {
    colors: {
      primary: {
        500: '#667eea',  // ä¸»è‰²
        // ...
      },
    },
  },
}
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°

1. **ç»„ä»¶ä¼˜åŒ–**

   - React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
   - useCallback ç¼“å­˜å‡½æ•°å¼•ç”¨
   - è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¾…å®ç°ï¼‰

2. **WebSocket ä¼˜åŒ–**

   - è‡ªåŠ¨é‡è¿ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
   - å¿ƒè·³ä¿æ´»
   - æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¾…å®ç°ï¼‰

3. **æ¸²æŸ“ä¼˜åŒ–**
   - æŒ‰éœ€åŠ è½½ Markdown
   - ä»£ç é«˜äº®æ‡’åŠ è½½
   - å›¾ç‰‡æ‡’åŠ è½½ï¼ˆå¾…å®ç°ï¼‰

### å¾…ä¼˜åŒ–

- [ ] è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§é‡æ¶ˆæ¯ï¼‰
- [ ] æ¶ˆæ¯åˆ†é¡µåŠ è½½
- [ ] å›¾ç‰‡/æ–‡ä»¶ä¸Šä¼ 
- [ ] ç¦»çº¿ç¼“å­˜

---

## ğŸ§ª æµ‹è¯•

### æ‰‹åŠ¨æµ‹è¯•

1. ç¡®ä¿åç«¯è¿è¡Œ
2. å¯åŠ¨å‰ç«¯: `npm run dev`
3. è®¿é—® `http://localhost:3000/chat`
4. å‘é€æ¶ˆæ¯æµ‹è¯•

### åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] è¿æ¥ WebSocket
- [ ] å‘é€æ¶ˆæ¯
- [ ] æ¥æ”¶æµå¼å“åº”
- [ ] Markdown æ¸²æŸ“
- [ ] ä»£ç é«˜äº®
- [ ] æ¸…ç©ºå¯¹è¯
- [ ] å¯¼å‡ºå¯¹è¯
- [ ] æ–­çº¿é‡è¿
- [ ] ç§»åŠ¨ç«¯é€‚é…

---

## ğŸš€ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ

```bash
npm run dev
```

### ç”Ÿäº§æ„å»º

```bash
npm run build
npm start
```

### Docker éƒ¨ç½²

```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

---

## ğŸ“ åç»­å¼€å‘è®¡åˆ’

### Phase 1: æ ¸å¿ƒåŠŸèƒ½å®Œå–„ï¼ˆæœ¬é˜¶æ®µï¼‰

- [x] WebSocket é€šä¿¡
- [x] èŠå¤©ç•Œé¢
- [x] æµå¼æ˜¾ç¤º
- [x] Markdown æ¸²æŸ“
- [ ] è¯­éŸ³è¾“å…¥
- [ ] æ–‡ä»¶ä¸Šä¼ 

### Phase 2: é«˜çº§åŠŸèƒ½

- [ ] å¤šä¼šè¯ç®¡ç†
- [ ] ä¼šè¯å†å²
- [ ] ç”¨æˆ·è®¾ç½®
- [ ] ä¸»é¢˜åˆ‡æ¢
- [ ] å›½é™…åŒ–

### Phase 3: æ€§èƒ½ä¸ä½“éªŒ

- [ ] è™šæ‹Ÿæ»šåŠ¨
- [ ] ç¦»çº¿æ”¯æŒ
- [ ] PWA
- [ ] æ€§èƒ½ç›‘æ§

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: WebSocket è¿æ¥å¤±è´¥ï¼Ÿ

**A**: ç¡®ä¿ Agent Engine æ­£åœ¨è¿è¡Œï¼š

```bash
cd algo/agent-engine
python main.py
```

### Q: æ¶ˆæ¯ä¸æ˜¾ç¤ºï¼Ÿ

**A**: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼Œç¡®è®¤ WebSocket æ¶ˆæ¯æ ¼å¼æ­£ç¡®ã€‚

### Q: æ ·å¼ä¸ç”Ÿæ•ˆï¼Ÿ

**A**: é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š

```bash
npm run dev
```

---

## ğŸ“ æ”¯æŒ

**æ–‡æ¡£**: æœ¬ README
**Sprint 4 è®¡åˆ’**: `../../SPRINT4_PLAN.md`
**WebSocket æ–‡æ¡£**: `../../algo/agent-engine/WEBSOCKET_README.md`

---

**ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2025-10-27
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆ
